{
  "name": "mermaid-export-pro",
  "displayName": "Mermaid Export Pro",
  "description": "Professional Mermaid diagram export with multiple formats and cross-platform reliability",
  "version": "1.0.9",
  "publisher": "GSejas",
  "icon": "media/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/GSejas/mermaid-export-pro.git"
  },
  "engines": {
    "vscode": "^1.103.0"
  },
  "categories": [
    "Other",
    "Visualization"
  ],
  "keywords": [
    "mermaid",
    "diagram",
    "export",
    "svg",
    "png",
    "pdf",
    "markdown"
  ],
  "activationEvents": [
    "onCommand:mermaidExportPro.exportCurrent",
    "onCommand:mermaidExportPro.exportAs",
    "onStartupFinished",
    "onLanguage:markdown",
    "onLanguage:mermaid"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "languages": [
      {
        "id": "mermaid",
        "aliases": [
          "Mermaid",
          "mermaid"
        ],
        "extensions": [
          ".mmd"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "commands": [
      {
        "command": "mermaidExportPro.exportCurrent",
        "title": "Export Current Diagram",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.exportAs",
        "title": "Export As...",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.exportFile",
        "title": "Quick Export (All Diagrams)",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.exportAll",
        "title": "Export All Diagrams in File",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.batchExport",
        "title": "Export Folder...",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.toggleAutoExport",
        "title": "Toggle Auto Export",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.showOutput",
        "title": "Show Export Log",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.debugExport",
        "title": "Debug: Export Hardcoded Diagram",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.runSetup",
        "title": "Set Up Export Tools",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.cycleTheme",
        "title": "Switch Theme",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.showExportOptions",
        "title": "Show Export Options",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.diagnostics",
        "title": "Show Diagnostics & Health Report",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.healthCheck",
        "title": "Quick Health Check",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.showTelemetry",
        "title": "Show Usage Statistics",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.exportTelemetry",
        "title": "Export Usage Data (for bug reports)",
        "category": "Mermaid Export Pro"
      },
      {
        "command": "mermaidExportPro.clearTelemetry",
        "title": "Clear Usage Data",
        "category": "Mermaid Export Pro"
      }
    ],
    "menus": {
      "explorer/context": [
        {
          "command": "mermaidExportPro.exportFile",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@1"
        },
        {
          "command": "mermaidExportPro.exportAs",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@2"
        },
        {
          "command": "mermaidExportPro.batchExport",
          "when": "explorerResourceIsFolder",
          "group": "navigation@3"
        }
      ],
      "tab/context": [
        {
          "command": "mermaidExportPro.exportFile",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@1"
        },
        {
          "command": "mermaidExportPro.exportAs",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@2"
        }
      ],
      "editor/title/context": [
        {
          "command": "mermaidExportPro.exportFile",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@1"
        },
        {
          "command": "mermaidExportPro.exportAs",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@2"
        }
      ],
      "editor/context": [
        {
          "command": "mermaidExportPro.exportFile",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@1"
        },
        {
          "command": "mermaidExportPro.exportAs",
          "when": "resourceExtname == .mmd || resourceExtname == .md",
          "group": "navigation@2"
        }
      ]
    },
    "configuration": {
      "title": "Mermaid Export Pro",
      "properties": {
        "mermaidExportPro.defaultFormat": {
          "type": "string",
          "enum": [
            "svg",
            "png",
            "pdf",
            "webp",
            "jpg",
            "jpeg"
          ],
          "default": "png",
          "description": "Default export format"
        },
        "mermaidExportPro.theme": {
          "type": "string",
          "enum": [
            "default",
            "dark",
            "forest",
            "neutral"
          ],
          "default": "default",
          "description": "Mermaid theme"
        },
        "mermaidExportPro.outputDirectory": {
          "type": "string",
          "default": "",
          "description": "Custom output directory (relative to file location if not absolute)"
        },
        "mermaidExportPro.autoExport": {
          "type": "boolean",
          "default": false,
          "description": "Automatically export on file save"
        },
        "mermaidExportPro.exportStrategy": {
          "type": "string",
          "enum": [
            "cli",
            "web",
            "auto"
          ],
          "default": "auto",
          "description": "Export strategy preference"
        },
        "mermaidExportPro.width": {
          "type": "number",
          "default": 800,
          "description": "Default export width in pixels"
        },
        "mermaidExportPro.height": {
          "type": "number",
          "default": 600,
          "description": "Default export height in pixels"
        },
        "mermaidExportPro.backgroundColor": {
          "type": "string",
          "default": "transparent",
          "description": "Background color for exports (e.g., 'transparent', 'white', '#ffffff', 'rgba(255,255,255,0.5)')"
        },
        "mermaidExportPro.statusBarDisplayFormat": {
          "type": "string",
          "enum": [
            "icon-only",
            "icon-count",
            "text-count"
          ],
          "default": "icon-count",
          "description": "Status bar display format: icon-only (just icon), icon-count (icon + number), text-count (icon + 'N Mermaids')"
        },
        "mermaidExportPro.batchExportMaxDepth": {
          "type": "number",
          "default": 5,
          "minimum": 1,
          "maximum": 20,
          "description": "Maximum folder depth to scan during export folder (1-20, default: 5)"
        },
        "mermaidExportPro.batchExportDefaultDepth": {
          "type": "number",
          "default": 3,
          "minimum": 1,
          "maximum": 20,
          "description": "Default folder depth for export folder when not specified (1-20, default: 3)"
        },
        "mermaidExportPro.organizeByFormat": {
          "type": "boolean",
          "default": false,
          "description": "Organize exported files into subfolders by format (e.g., png/, svg/, pdf/)"
        },
        "mermaidExportPro.autoNaming.mode": {
          "type": "string",
          "enum": [
            "versioned",
            "overwrite"
          ],
          "default": "versioned",
          "markdownDescription": "**File naming strategy for exported diagrams:**\n\n- `versioned` **(default)**: Create new file with sequence and hash (`diagram-01-a4b2c8ef.svg`)\n  - ‚úÖ Preserves export history\n  - ‚úÖ Content-based deduplication\n  - ‚úÖ Safe for version control\n\n- `overwrite`: Overwrite existing file with simple name (`diagram1.svg`)\n  - ‚úÖ Consistent filenames for presentations\n  - ‚úÖ No duplicate files\n  - ‚ö†Ô∏è Previous exports are replaced\n\n**Use Case:** Enable `overwrite` mode for presentations (Marp, reveal.js) that need consistent asset paths.",
          "enumDescriptions": [
            "Create versioned exports with sequence and hash (diagram-01-a4b2c8ef.svg) - preserves history",
            "Overwrite with simple name (diagram1.svg) - for presentations with fixed asset paths"
          ]
        },
        "mermaidExportPro.telemetry.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "**[OPT-IN]** Help improve Mermaid Export Pro by sharing anonymous usage data.\n\n- ‚úÖ **Anonymous**: No personal information collected\n- üîí **Local Storage**: Data stays on your machine\n- üìä **Reviewable**: Export and review your data anytime\n- üóëÔ∏è **Deletable**: Clear data whenever you want\n\n**What's collected:**\n- Export formats and strategies used\n- Performance metrics (export times)\n- Error types (sanitized, no personal data)\n- Command usage patterns\n\n**What's NOT collected:**\n- File names or paths\n- Diagram content\n- Personal information\n- IP addresses\n\nYou can review your data at any time: `Mermaid Export Pro: Show Usage Statistics`"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "npm run check-types && npm run lint && node esbuild.js",
    "watch": "npm-run-all -p watch:*",
    "watch:esbuild": "node esbuild.js --watch",
    "watch:tsc": "tsc --noEmit --watch --project tsconfig.json",
    "package": "npm run check-types && npm run lint && node esbuild.js --production",
    "compile-tests": "tsc -p tsconfig.integration.json --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "npm run compile-tests && npm run compile && npm run lint",
    "check-types": "tsc --noEmit",
    "lint": "eslint src",
    "test": "npm run test:unit && npm run test:integration",
    "test:unit": "vitest run",
    "test:unit:coverage": "vitest run --coverage --reporter=verbose",
    "test:integration": "node ./scripts/test-integration.js",
    "test:integration:coverage": "nyc --report-dir=coverage-e2e --temp-dir=.nyc_output-e2e npm run test:integration",
    "test:coverage": "npm run coverage:clean && npm run test:unit:coverage && npm run test:integration:coverage && npm run coverage:merge",
    "test:watch": "vitest",
    "coverage:clean": "rimraf coverage coverage-e2e coverage-merged .nyc_output .nyc_output-e2e",
    "coverage:unit": "npm run test:unit:coverage",
    "coverage:e2e": "npm run test:integration:coverage",
    "coverage:merge": "node scripts/merge-coverage.js",
    "coverage:report": "nyc report --reporter=text --reporter=html --reporter=lcov --report-dir=coverage-merged --temp-dir=.nyc_output-merged",
    "coverage:view": "open coverage-merged/lcov-report/index.html || start coverage-merged/lcov-report/index.html || xdg-open coverage-merged/lcov-report/index.html"
  },
  "nyc": {
    "extension": [
      ".ts"
    ],
    "exclude": [
      "src/test/**"
    ],
    "reporter": [
      "lcov",
      "text"
    ],
    "require": [
      "ts-node/register"
    ],
    "all": true
  },
  "dependencies": {
    "@mermaid-js/mermaid-cli": "^11.9.0",
    "chalk": "^5.0.0",
    "commander": "^12.0.0",
    "mermaid": "^11.10.1"
  },
  "devDependencies": {
    "@types/chai": "5.2.2",
    "@types/mocha": "^10.0.10",
    "@types/mock-require": "3.0.0",
    "@types/node": "22.x",
    "@types/sinon": "17.0.4",
    "@types/vscode": "^1.103.0",
    "@typescript-eslint/eslint-plugin": "^8.39.0",
    "@typescript-eslint/parser": "^8.39.0",
    "@vitest/coverage-v8": "^3.2.4",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2",
    "chai": "6.0.1",
    "esbuild": "^0.25.8",
    "eslint": "^9.32.0",
    "glob": "^11.0.3",
    "mocha": "^11.7.1",
    "mock-require": "3.0.3",
    "npm-run-all": "^4.1.5",
    "nyc": "17.1.0",
    "sinon": "21.0.0",
    "source-map-support": "0.5.21",
    "ts-node": "10.9.2",
    "typescript": "^5.9.2",
    "vitest": "3.2.4"
  }
}
